(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7840:function(e,t,r){Promise.resolve().then(r.bind(r,7609))},7609:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return eP}});var a,s,l=r(7437),o=r(2265),n=r(4508);function i(e){let{className:t,...r}=e;return(0,l.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}var c=r(7053),d=r(535);let u=(0,d.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function m(e){let{className:t,variant:r,size:a,asChild:s=!1,...o}=e,i=s?c.g7:"button";return(0,l.jsx)(i,{"data-slot":"button",className:(0,n.cn)(u({variant:r,size:a,className:t})),...o})}function h(e){let{className:t,type:r,...a}=e;return(0,l.jsx)("input",{type:r,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...a})}(a=s||(s={})).RED="red",a.BLACK="black";class p{createNode(e){return{value:e,color:"red",left:null,right:null,parent:null,id:"node-".concat(++this.nodeIdCounter)}}addStep(e,t,r,a){this.steps.push({id:"step-".concat(this.steps.length),description:t,type:e,affectedNodes:r,tree:this.cloneTree(this.root),meta:a})}cloneTree(e){if(!e)return null;let t={value:e.value,color:e.color,left:null,right:null,parent:null,id:e.id};return t.left=this.cloneTree(e.left),t.right=this.cloneTree(e.right),t.left&&(t.left.parent=t),t.right&&(t.right.parent=t),t}rotateLeft(e){let t=e.right;e.right=t.left,t.left&&(t.left.parent=e),t.parent=e.parent,e.parent?e===e.parent.left?e.parent.left=t:e.parent.right=t:this.root=t,t.left=e,e.parent=t,this.addStep("rotate-left","Rota\xe7\xe3o \xe0 esquerda no n\xf3 ".concat(e.value),[e.id,t.id],{rootOp:this.currentRootOp||"insert",parentSide:t.parent?t.parent.left===t?"left":"right":null})}rotateRight(e){let t=e.left;e.left=t.right,t.right&&(t.right.parent=e),t.parent=e.parent,e.parent?e===e.parent.right?e.parent.right=t:e.parent.left=t:this.root=t,t.right=e,e.parent=t,this.addStep("rotate-right","Rota\xe7\xe3o \xe0 direita no n\xf3 ".concat(e.value),[e.id,t.id],{rootOp:this.currentRootOp||"insert",parentSide:t.parent?t.parent.left===t?"left":"right":null})}fixInsert(e){for(;e.parent&&"red"===e.parent.color&&e.parent.parent;)if(e.parent===e.parent.parent.left){let t=e.parent.parent.right;if(t&&"red"===t.color)e.parent.color="black",t.color="black",e.parent.parent.color="red",this.addStep("recolor","Recolora\xe7\xe3o: pai ".concat(e.parent.value," e tio ").concat(t.value," ficam pretos, av\xf4 ").concat(e.parent.parent.value," fica vermelho"),[e.parent.id,t.id,e.parent.parent.id],{rootOp:this.currentRootOp||"insert",case:"uncle-red",parentSide:"left"}),e.value,e=e.parent.parent;else{e===e.parent.right&&(e=e.parent,this.addStep("recolor","Preparando rota\xe7\xe3o esquerda (tri\xe2ngulo)",[e.id],{rootOp:this.currentRootOp||"insert",case:"triangle",parentSide:"left"}),this.rotateLeft(e));let t=e.parent,r=t.parent;if(!r)break;t.color="black",r.color="red",this.addStep("recolor","Recolora\xe7\xe3o: pai ".concat(t.value," fica preto, av\xf4 ").concat(r.value," fica vermelho"),[t.id,r.id],{rootOp:this.currentRootOp||"insert",case:"line",parentSide:"left"}),this.rotateRight(r)}}else{let t=e.parent.parent.left;if(t&&"red"===t.color)e.parent.color="black",t.color="black",e.parent.parent.color="red",this.addStep("recolor","Recolora\xe7\xe3o: pai ".concat(e.parent.value," e tio ").concat(t.value," ficam pretos, av\xf4 ").concat(e.parent.parent.value," fica vermelho"),[e.parent.id,t.id,e.parent.parent.id],{rootOp:this.currentRootOp||"insert",case:"uncle-red",parentSide:"right"}),e.value,e=e.parent.parent;else{e===e.parent.left&&(e=e.parent,this.addStep("recolor","Preparando rota\xe7\xe3o direita (tri\xe2ngulo)",[e.id],{rootOp:this.currentRootOp||"insert",case:"triangle",parentSide:"right"}),this.rotateRight(e));let t=e.parent,r=t.parent;if(!r){console.error("[DEBUG fixInsert] ERRO: grandparent \xe9 null no CASO 3!");break}t.color="black",r.color="red",this.addStep("recolor","Recolora\xe7\xe3o: pai ".concat(t.value," fica preto, av\xf4 ").concat(r.value," fica vermelho"),[t.id,r.id],{rootOp:this.currentRootOp||"insert",case:"line",parentSide:"right"}),this.rotateLeft(r)}}this.root&&"red"===this.root.color&&(this.root.color="black",this.addStep("recolor","Raiz recolorida para preto",[this.root.id],{rootOp:this.currentRootOp||"insert"}))}debugTreeState(e){let t=this.validateTree();t.isValid?console.log("[DEBUG ".concat(e,"] \xc1rvore v\xe1lida")):(console.error("[DEBUG ".concat(e,"] \xc1RVORE INV\xc1LIDA:"),t.violations),this.debugPrintTree())}debugPrintTree(){let e=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!t)return;t.color;let s=r+(a?"    ":"│   ");t.right&&e(t.right,s,!t.left),t.left&&e(t.left,s,!0)};this.root?e(this.root):console.log("(vazia)")}insert(e){this.currentRootOp="insert";let t=this.createNode(e);if(!this.root){this.root=t,this.root.color="black",this.addStep("insert","Inserido n\xf3 ".concat(e," como raiz (preto)"),[t.id],{rootOp:"insert",isRoot:!0}),this.currentRootOp=null;let r=this.validateTree();r.isValid||console.error("\xc1rvore inv\xe1lida ap\xf3s inser\xe7\xe3o:",r.violations);return}let r=this.root,a=null;for(;r;)if(a=r,e<r.value)r=r.left;else if(e>r.value)r=r.right;else{this.currentRootOp=null;return}a?(t.parent=a,e<a.value?a.left=t:a.right=t):this.root=t,this.addStep("insert","Inserido n\xf3 ".concat(e," (vermelho)").concat(a?" como filho de ".concat(a.value):" como raiz"),[t.id],{rootOp:"insert",direction:a&&e<a.value?"left":"right",isRoot:!1}),this.fixInsert(t);let s=this.validateTree();s.isValid?this.addStep("recolor","\xc1rvore v\xe1lida ap\xf3s inser\xe7\xe3o de ".concat(e),[],{rootOp:"insert",finalState:!0}):(console.error("[DEBUG insert] \xc1RVORE INV\xc1LIDA ap\xf3s inser\xe7\xe3o de ".concat(e)),console.error("[DEBUG insert] Viola\xe7\xf5es:",JSON.stringify(s.violations,null,2)),this.debugPrintTree(),this.addStep("recolor","ERRO: \xc1rvore inv\xe1lida ap\xf3s inser\xe7\xe3o de ".concat(e),[],{rootOp:"insert",isError:!0,violations:s.violations})),this.currentRootOp=null}findNode(e){let t=this.root;for(;t;){if(e===t.value)return t;t=e<t.value?t.left:t.right}return null}findMin(e){for(;e.left;)e=e.left;return e}fixDelete(e,t,r){for(;e!==this.root&&(null==e||"black"===e.color);){var a,s,l,o;if(!t)break;if(r){let l=t.right;if(!l||"red"===l.color&&(l.color="black",t.color="red",this.addStep("recolor","Recolora\xe7\xe3o: irm\xe3o ".concat(l.value," fica preto, pai ").concat(t.value," fica vermelho"),[l.id,t.id],{rootOp:"delete",isLeftChild:!0,siblingColor:"RED"}),this.rotateLeft(t),!(l=t.right)))break;if(l.left&&"black"!==l.left.color||l.right&&"black"!==l.right.color){if((!l.right||"black"===l.right.color)&&(l.left&&(l.left.color="black"),l.color="red",this.addStep("recolor","Recolora\xe7\xe3o: sobrinho esquerdo fica preto, irm\xe3o ".concat(l.value," fica vermelho"),[(null===(s=l.left)||void 0===s?void 0:s.id)||"",l.id],{rootOp:"delete",isLeftChild:!0,rightChildBlack:!0}),this.rotateRight(l),!(l=t.right)))break;l.color=t.color,t.color="black",l.right&&(l.right.color="black"),this.addStep("recolor","Recolora\xe7\xe3o final: irm\xe3o ".concat(l.value," herda cor do pai, pai fica preto, sobrinho direito fica preto"),[l.id,t.id,(null===(a=l.right)||void 0===a?void 0:a.id)||""],{rootOp:"delete",isLeftChild:!0}),this.rotateLeft(t),e=this.root,t=null}else l.color="red",this.addStep("recolor","Recolora\xe7\xe3o: irm\xe3o ".concat(l.value," fica vermelho"),[l.id],{rootOp:"delete",isLeftChild:!0,bothChildrenBlack:!0}),r=!!(t=(e=t).parent)&&e===t.left}else{let a=t.left;if(!a||"red"===a.color&&(a.color="black",t.color="red",this.addStep("recolor","Recolora\xe7\xe3o: irm\xe3o ".concat(a.value," fica preto, pai ").concat(t.value," fica vermelho"),[a.id,t.id],{rootOp:"delete",isLeftChild:!1,siblingColor:"RED"}),this.rotateRight(t),!(a=t.left)))break;if(a.left&&"black"!==a.left.color||a.right&&"black"!==a.right.color){if((!a.left||"black"===a.left.color)&&(a.right&&(a.right.color="black"),a.color="red",this.addStep("recolor","Recolora\xe7\xe3o: sobrinho direito fica preto, irm\xe3o ".concat(a.value," fica vermelho"),[(null===(o=a.right)||void 0===o?void 0:o.id)||"",a.id],{rootOp:"delete",isLeftChild:!1,leftChildBlack:!0}),this.rotateLeft(a),!(a=t.left)))break;a.color=t.color,t.color="black",a.left&&(a.left.color="black"),this.addStep("recolor","Recolora\xe7\xe3o final: irm\xe3o ".concat(a.value," herda cor do pai, pai fica preto, sobrinho esquerdo fica preto"),[a.id,t.id,(null===(l=a.left)||void 0===l?void 0:l.id)||""],{rootOp:"delete",isLeftChild:!1}),this.rotateRight(t),e=this.root,t=null}else a.color="red",this.addStep("recolor","Recolora\xe7\xe3o: irm\xe3o ".concat(a.value," fica vermelho"),[a.id],{rootOp:"delete",isLeftChild:!1,bothChildrenBlack:!0}),r=!!(t=(e=t).parent)&&e===t.left}}e&&(e.color="black",this.addStep("recolor","N\xf3 ".concat(e.value," recolorido para preto"),[e.id],{rootOp:"delete"})),this.root&&"red"===this.root.color&&(this.root.color="black",this.addStep("recolor","Raiz recolorida para preto",[this.root.id],{rootOp:"delete",isRoot:!0}))}delete(e){this.currentRootOp="delete";let t=this.findNode(e);if(!t)return!1;let r=null,a=t.color;if(t.left){if(t.right){let s;let l=this.findMin(t.right);a=l.color,r=l.right;let o=l.parent===t,n=!1;o?(s=l,n=!1,r&&(r.parent=l)):(s=l.parent,n=l===s.left,this.transplant(l,l.right),l.right=t.right,l.right&&(l.right.parent=l)),this.transplant(t,l),l.left=t.left,l.left&&(l.left.parent=l),l.color=t.color,this.addStep("delete","Removido n\xf3 ".concat(e),[t.id],{rootOp:"delete",hasLeftChild:!!t.left,hasRightChild:!!t.right,isSuccessorChild:o,originalColor:"black"===a?"BLACK":"RED"}),"black"===a&&this.fixDelete(r,s,n);let i=this.validateTree();return i.isValid?this.addStep("recolor","\xc1rvore v\xe1lida ap\xf3s dele\xe7\xe3o de ".concat(e),[],{rootOp:"delete",finalState:!0}):(console.error("\xc1rvore inv\xe1lida ap\xf3s dele\xe7\xe3o:",i.violations),this.addStep("recolor","ERRO: \xc1rvore inv\xe1lida ap\xf3s dele\xe7\xe3o de ".concat(e),[],{rootOp:"delete",isError:!0,violations:i.violations})),this.currentRootOp=null,!0}{r=t.left;let s=t.parent,l=!!s&&t===s.left;this.transplant(t,t.left),this.addStep("delete","Removido n\xf3 ".concat(e),[t.id],{rootOp:"delete",hasLeftChild:!!t.left,hasRightChild:!!t.right,originalColor:"black"===a?"BLACK":"RED"}),"black"===a&&this.fixDelete(r,s,l);let o=this.validateTree();return o.isValid?this.addStep("recolor","\xc1rvore v\xe1lida ap\xf3s dele\xe7\xe3o de ".concat(e),[],{rootOp:"delete",finalState:!0}):(console.error("\xc1rvore inv\xe1lida ap\xf3s dele\xe7\xe3o:",o.violations),this.addStep("recolor","ERRO: \xc1rvore inv\xe1lida ap\xf3s dele\xe7\xe3o de ".concat(e),[],{rootOp:"delete",isError:!0,violations:o.violations})),this.currentRootOp=null,!0}}{r=t.right;let s=t.parent,l=!!s&&t===s.left;this.transplant(t,t.right),this.addStep("delete","Removido n\xf3 ".concat(e),[t.id],{rootOp:"delete",hasLeftChild:!!t.left,hasRightChild:!!t.right,originalColor:"black"===a?"BLACK":"RED"}),"black"===a&&this.fixDelete(r,s,l);let o=this.validateTree();return o.isValid?this.addStep("recolor","\xc1rvore v\xe1lida ap\xf3s dele\xe7\xe3o de ".concat(e),[],{rootOp:"delete",finalState:!0}):(console.error("\xc1rvore inv\xe1lida ap\xf3s dele\xe7\xe3o:",o.violations),this.addStep("recolor","ERRO: \xc1rvore inv\xe1lida ap\xf3s dele\xe7\xe3o de ".concat(e),[],{rootOp:"delete",isError:!0,violations:o.violations})),this.currentRootOp=null,!0}}transplant(e,t){e.parent?e===e.parent.left?e.parent.left=t:e.parent.right=t:this.root=t,t&&(t.parent=e.parent)}search(e){return this.findNode(e)}getSteps(){return this.steps}getRoot(){return this.root}reset(){this.root=null,this.steps=[],this.nodeIdCounter=0,this.addStep("initial","\xc1rvore resetada",[])}generateRandomValues(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],r=new Set;for(;t.length<e;){let e=Math.floor(100*Math.random())+1;r.has(e)||(r.add(e),t.push(e))}return t}getTreeAtStep(e){return e<0||e>=this.steps.length?null:this.steps[e].tree}calculateNodePositions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,s=new Map;if(!e)return s;let l=e=>e?1+l(e.left)+l(e.right):0,o=(e,t,r,a)=>{if(!e)return t;let n=t+l(e.left)*a;s.set(e.id,{x:n,y:r});let i=t;return i=o(e.left,i,r+80,.7*a),i=o(e.right,n+a,r+80,.7*a)};return o(e,t,r,a),s}validateTree(){let e=[];if(!this.root)return{isValid:!0,violations:[]};"black"!==this.root.color&&e.push("Raiz deve ser preta, mas \xe9 ".concat(this.root.color));let t=-1,r=function(a,s){var l,o;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"root";if(!a)return -1===t?t=s:s!==t&&e.push("Altura preta inconsistente: esperado ".concat(t,", encontrado ").concat(s," no caminho ").concat(n)),s;"red"===a.color&&(a.left&&"red"===a.left.color&&e.push("N\xf3 vermelho ".concat(a.value," tem filho esquerdo vermelho ").concat(a.left.value)),a.right&&"red"===a.right.color&&e.push("N\xf3 vermelho ".concat(a.value," tem filho direito vermelho ").concat(a.right.value)));let i="black"===a.color?s+1:s,c=r(a.left,i,"".concat(n,"->left(").concat((null===(l=a.left)||void 0===l?void 0:l.value)||"null",")")),d=r(a.right,i,"".concat(n,"->right(").concat((null===(o=a.right)||void 0===o?void 0:o.value)||"null",")"));return c!==d&&e.push("N\xf3 ".concat(a.value,": alturas pretas diferentes (esquerda: ").concat(c,", direita: ").concat(d,")")),c};return r(this.root,0),{isValid:0===e.length,violations:e}}constructor(){this.root=null,this.steps=[],this.nodeIdCounter=0,this.currentRootOp=null,this.addStep("initial","\xc1rvore inicializada vazia",[],{rootOp:"initial"})}}function x(e){let{node:t,x:r,y:a,isHighlighted:n=!1,animationType:i=null}=e,[c,d]=(0,o.useState)(!1),[u,m]=(0,o.useState)(t.color),h=t.color===s.RED;return(0,o.useEffect)(()=>{if(i){d(!0);let e=setTimeout(()=>d(!1),500);return()=>clearTimeout(e)}},[i]),(0,o.useEffect)(()=>{u!==t.color&&m(t.color)},[t.color,u]),(0,l.jsxs)("g",{className:"transition-all duration-500 ease-in-out ".concat((()=>{if(!c)return"";switch(i){case"insert":return"animate-node-insert";case"delete":return"animate-node-delete";case"recolor":return"animate-node-recolor";case"move":return"animate-node-move";default:return""}})()," ").concat(n?"animate-pulse":""),style:{transformOrigin:"".concat(r,"px ").concat(a,"px")},children:[(0,l.jsx)("circle",{cx:r+2,cy:a+2,r:20,fill:"rgba(0, 0, 0, 0.15)",className:"transition-all duration-500 ease-in-out"}),(0,l.jsx)("circle",{cx:r,cy:a,r:20,fill:h?"rgb(239 68 68)":"rgb(55 65 81)",stroke:"rgb(156 163 175)",strokeWidth:1,className:"transition-all duration-500 ease-in-out",style:{filter:c?"drop-shadow(0 0 8px rgba(59, 130, 246, 0.5))":"none"}}),(0,l.jsx)("text",{x:r,y:a,textAnchor:"middle",dominantBaseline:"central",fill:"white",fontSize:"14",fontWeight:"bold",className:"select-none font-mono transition-all duration-300",style:{textShadow:"0 1px 2px rgba(0, 0, 0, 0.3)"},children:t.value}),n&&(0,l.jsx)("circle",{cx:r,cy:a,r:28,fill:"none",stroke:"rgb(59 130 246)",strokeWidth:"2",strokeDasharray:"6 6",className:"animate-pulse",style:{opacity:.7}}),"insert"===i&&c&&(0,l.jsx)("circle",{cx:r,cy:a,r:20,fill:"none",stroke:"rgb(34 197 94)",strokeWidth:"3",className:"animate-ping",style:{animationDuration:"0.6s"}})]})}function f(e){let{from:t,to:r,isAnimated:a=!1}=e,[s,n]=(0,o.useState)(!a);(0,o.useEffect)(()=>{if(a){n(!1);let e=setTimeout(()=>n(!0),200);return()=>clearTimeout(e)}},[a]);let i=r.x-t.x,c=r.y-t.y,d=Math.sqrt(i*i+c*c),u=i/d,m=c/d,h=t.x+20*u,p=t.y+20*m,x=r.x-20*u,f=r.y-20*m;return(0,l.jsx)("line",{x1:h,y1:p,x2:x,y2:f,stroke:"rgb(75 85 99)",strokeWidth:"3",className:"transition-all duration-500 ease-in-out ".concat(s?"opacity-100":"opacity-0"),style:{strokeDasharray:a?"5 5":"none",strokeDashoffset:a?"10":"0",animation:a?"dash 1s linear infinite":"none",filter:"drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1))"}})}var g=r(8981);function v(e){let{className:t,defaultValue:r,value:a,min:s=0,max:i=100,...c}=e,d=o.useMemo(()=>Array.isArray(a)?a:Array.isArray(r)?r:[s,i],[a,r,s,i]);return(0,l.jsxs)(g.fC,{"data-slot":"slider",defaultValue:r,value:a,min:s,max:i,className:(0,n.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...c,children:[(0,l.jsx)(g.fQ,{"data-slot":"slider-track",className:(0,n.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,l.jsx)(g.e6,{"data-slot":"slider-range",className:(0,n.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:d.length},(e,t)=>(0,l.jsx)(g.bU,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})}var b=r(9076),j=r(5274),N=r(2451),y=r(9227),w=r(3276),S=r(407),k=r(1548);function C(e){let{currentStep:t,totalSteps:r,canGoNext:a,canGoPrevious:s,onNextStep:n,onPreviousStep:i,onGoToStep:c,onReset:d,currentStepData:u}=e,[h,p]=(0,o.useState)(!1),[x,f]=(0,o.useState)(1e3);return(0,o.useEffect)(()=>{if(!h)return;let e=setInterval(()=>{a?n():p(!1)},x);return()=>clearInterval(e)},[h,a,n,x]),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,l.jsxs)("span",{children:["Passo ",t+1]}),(0,l.jsxs)("span",{children:["de ",r]})]}),(0,l.jsx)(v,{value:[t],onValueChange:e=>{c(e[0])},max:r-1,min:0,step:1,className:"w-full cursor-pointer"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,l.jsx)(m,{variant:"outline",size:"sm",onClick:d,disabled:r<=1,title:"Resetar para o in\xedcio",className:"cursor-pointer",children:(0,l.jsx)(b.Z,{className:"w-4 h-4"})}),(0,l.jsx)(m,{variant:"outline",size:"sm",onClick:()=>c(0),disabled:0===t,title:"Ir para o primeiro passo",className:"cursor-pointer",children:(0,l.jsx)(j.Z,{className:"w-4 h-4"})}),(0,l.jsx)(m,{variant:"outline",size:"sm",onClick:i,disabled:!s,title:"Passo anterior",className:"cursor-pointer",children:(0,l.jsx)(N.Z,{className:"w-4 h-4"})}),(0,l.jsx)(m,{variant:h?"default":"outline",size:"sm",onClick:()=>{h?p(!1):a&&p(!0)},disabled:!a&&!h,title:h?"Pausar reprodu\xe7\xe3o autom\xe1tica":"Reprodu\xe7\xe3o autom\xe1tica",className:"cursor-pointer",children:h?(0,l.jsx)(y.Z,{className:"w-4 h-4"}):(0,l.jsx)(w.Z,{className:"w-4 h-4"})}),(0,l.jsx)(m,{variant:"outline",size:"sm",onClick:n,disabled:!a,title:"Pr\xf3ximo passo",className:"cursor-pointer",children:(0,l.jsx)(S.Z,{className:"w-4 h-4"})}),(0,l.jsx)(m,{variant:"outline",size:"sm",onClick:()=>c(r-1),disabled:t===r-1,title:"Ir para o \xfaltimo passo",className:"cursor-pointer",children:(0,l.jsx)(k.Z,{className:"w-4 h-4"})})]}),h&&(0,l.jsxs)("div",{className:"space-y-2 pt-2 border-t",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,l.jsx)("span",{children:"Velocidade"}),(0,l.jsxs)("span",{children:[x,"ms"]})]}),(0,l.jsx)(v,{value:[x],onValueChange:e=>f(e[0]),max:3e3,min:500,step:250,className:"w-full cursor-pointer"})]})]})}var T=r(3391),R=r(5802);function E(e){let{tree:t,nodePositions:r,affectedNodes:a=[],currentStepType:s,currentStep:n=0,totalSteps:i=0,canGoNext:c=!1,canGoPrevious:d=!1,onNextStep:u=()=>{},onPreviousStep:h=()=>{},onGoToStep:p=()=>{},onReset:g=()=>{},currentStepData:v=null,onCenterView:j}=e,[N,y]=(0,o.useState)(new Set),[w,S]=(0,o.useState)(new Set),[k,E]=(0,o.useState)(null),[z,A]=(0,o.useState)(1),[O,I]=(0,o.useState)({x:0,y:0}),[D,L]=(0,o.useState)(!1),[B,q]=(0,o.useState)({x:0,y:0}),[Z,M]=(0,o.useState)(0),V=(0,o.useRef)(null),G=(0,o.useRef)(null);(0,o.useEffect)(()=>{if(a.length>0&&s){y(new Set(a)),S(new Set(a));let e=setTimeout(()=>{y(new Set),S(new Set)},5e3);return()=>clearTimeout(e)}0===a.length&&(y(new Set),S(new Set))},[a,s]),(0,o.useEffect)(()=>{if(n===i-1&&i>0){let e=setTimeout(()=>{S(new Set),y(new Set)},1e3);return()=>clearTimeout(e)}},[n,i]),(0,o.useEffect)(()=>{E(t)},[t]),(0,o.useEffect)(()=>{let e=r.size;e>Z&&(A(1),I({x:0,y:0})),M(e)},[r.size]);let P=()=>{L(!1)},{nodes:K,edges:_,newNodes:F}=(0,o.useMemo)(()=>{if(!t)return{nodes:[],edges:[],newNodes:new Set};let e=[],r=[],a=new Set,s=t=>{t&&(e.push(t),t.left&&(r.push({from:t,to:t.left,isNew:!1}),s(t.left)),t.right&&(r.push({from:t,to:t.right,isNew:!1}),s(t.right)))};return s(t),{nodes:e,edges:r,newNodes:a}},[t]);if(!t)return(0,l.jsxs)("div",{className:"flex flex-col h-[72vh] min-h-[420px]",children:[(0,l.jsx)("div",{className:"relative overflow-hidden flex-1 bg-gradient-to-br from-card to-muted/10 flex items-center justify-center border-2 border-dashed border-border rounded-lg",children:(0,l.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,l.jsx)("p",{className:"text-lg font-medium",children:"Visualiza\xe7\xe3o da \xc1rvore"}),(0,l.jsx)("p",{className:"text-sm",children:"A \xe1rvore aparecer\xe1 aqui quando voc\xea inserir valores"})]})}),i>0&&(0,l.jsx)("div",{className:"p-4 *:bg-card",children:(0,l.jsx)(C,{currentStep:n,totalSteps:i,canGoNext:c,canGoPrevious:d,onNextStep:u,onPreviousStep:h,onGoToStep:p,onReset:g,currentStepData:v})})]});let Y=Array.from(r.values()).reduce((e,t)=>({minX:Math.min(e.minX,t.x),maxX:Math.max(e.maxX,t.x),minY:Math.min(e.minY,t.y),maxY:Math.max(e.maxY,t.y)}),{minX:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY}),U=Y.maxX-Y.minX,X=Y.maxY-Y.minY,W=Math.max(800,U+160),H=(Y.minX+Y.maxX)/2,J=Y.minY,Q=W/2-H,$=120-J,ee=e=>{if(F.has(e))return"insert";if(N.has(e))switch(s){case"delete":return"delete";case"recolor":return"recolor";case"rotate-left":case"rotate-right":return"move"}return null};return(0,l.jsxs)("div",{className:"flex flex-col h-[72vh] min-h-[420px]",children:[(0,l.jsxs)("div",{ref:G,className:"relative overflow-hidden flex-1 bg-gradient-to-br from-card to-muted/10 ".concat(D?"cursor-grabbing":"cursor-grab"),onMouseDown:e=>{0===e.button&&(L(!0),q({x:e.clientX,y:e.clientY}),e.preventDefault())},onMouseMove:e=>{if(D){let t=e.clientX-B.x,r=e.clientY-B.y;I(e=>({x:e.x+t,y:e.y+r})),q({x:e.clientX,y:e.clientY})}},onMouseUp:P,onMouseLeave:P,onWheel:e=>{e.preventDefault(),e.stopPropagation();let t=e.deltaY>0?.9:1.1;A(e=>Math.max(.1,Math.min(3,e*t)))},children:[(0,l.jsxs)("div",{className:"absolute top-2 right-2 z-10 flex flex-col gap-1",children:[(0,l.jsx)(m,{size:"sm",variant:"outline",onClick:()=>{A(e=>Math.min(1.2*e,3))},className:"cursor-pointer",children:(0,l.jsx)(T.Z,{className:"w-4 h-4"})}),(0,l.jsx)(m,{size:"sm",variant:"outline",onClick:()=>{A(e=>Math.max(e/1.2,.1))},className:"cursor-pointer",children:(0,l.jsx)(R.Z,{className:"w-4 h-4"})}),(0,l.jsx)(m,{size:"sm",variant:"outline",onClick:()=>{A(1),I({x:0,y:0})},className:"cursor-pointer",children:(0,l.jsx)(b.Z,{className:"w-4 h-4"})})]}),(0,l.jsxs)("svg",{ref:V,width:"100%",height:"100%",viewBox:"0 0 ".concat(W," ").concat(Math.max(500,X+160)),preserveAspectRatio:"xMidYMid meet",className:"block",style:{transform:"translate(".concat(O.x,"px, ").concat(O.y,"px) scale(").concat(z,")"),transformOrigin:"center center"},children:[(0,l.jsxs)("defs",{children:[(0,l.jsxs)("linearGradient",{id:"edgeGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,l.jsx)("stop",{offset:"0%",stopColor:"rgb(107 114 128)",stopOpacity:"0.8"}),(0,l.jsx)("stop",{offset:"100%",stopColor:"rgb(156 163 175)",stopOpacity:"0.4"})]}),(0,l.jsxs)("filter",{id:"glow",children:[(0,l.jsx)("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),(0,l.jsxs)("feMerge",{children:[(0,l.jsx)("feMergeNode",{in:"coloredBlur"}),(0,l.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),_.map((e,t)=>{let a=r.get(e.from.id),s=r.get(e.to.id);return a&&s?(0,l.jsx)(f,{from:{x:a.x+Q,y:a.y+$},to:{x:s.x+Q,y:s.y+$},isAnimated:e.isNew},"edge-".concat(e.from.id,"-").concat(e.to.id)):null}),K.map(e=>{let t=r.get(e.id);return t?(0,l.jsx)(x,{node:e,x:t.x+Q,y:t.y+$,isHighlighted:w.has(e.id),animationType:ee(e.id)},e.id):null})]})]}),i>0&&(0,l.jsx)("div",{className:"p-4 *:bg-card",children:(0,l.jsx)(C,{currentStep:n,totalSteps:i,canGoNext:c,canGoPrevious:d,onNextStep:u,onPreviousStep:h,onGoToStep:p,onReset:g,currentStepData:v})})]})}var z=r(6394);function A(e){let{className:t,...r}=e;return(0,l.jsx)(z.f,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}var O=r(5979),I=r(875),D=r(8522);function L(e){let{onGenerate:t}=e,[r,a]=(0,o.useState)(5),[s,n]=(0,o.useState)(!1),c=e=>{a(e.count)};return(0,l.jsxs)(i,{className:"p-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(O.Z,{className:"w-4 h-4 text-primary"}),(0,l.jsx)("h3",{className:"font-semibold",children:"Gerador Aleat\xf3rio"})]}),(0,l.jsx)(m,{variant:"ghost",size:"sm",onClick:()=>n(!s),className:"cursor-pointer transition-transform hover:bg-transparent hover:text-current active:bg-transparent focus:bg-transparent","aria-label":s?"Recolher":"Expandir",children:(0,l.jsx)(I.Z,{className:"w-4 h-4 transition-transform ".concat(s?"rotate-180":"rotate-0")})})]}),s&&(0,l.jsxs)("div",{className:"space-y-4 mb-4 p-3 bg-muted rounded-lg",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)(A,{htmlFor:"count",children:["Quantidade de valores: ",r]}),(0,l.jsx)(v,{value:[r],onValueChange:e=>a(e[0]),max:15,min:1,step:1,className:"cursor-pointer"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(A,{children:"Presets:"}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{name:"Pequena",count:3},{name:"M\xe9dia",count:6},{name:"Grande",count:10},{name:"Desafio",count:15}].map(e=>(0,l.jsx)(m,{variant:"outline",size:"sm",onClick:()=>c(e),className:"cursor-pointer",children:e.name},e.name))})]})]}),(0,l.jsxs)(m,{onClick:()=>{let e=[],a=new Set;for(;e.length<r&&a.size<100;){let t=Math.floor(100*Math.random())+1;a.has(t)||(a.add(t),e.push(t))}t(e)},className:"w-full cursor-pointer",children:[(0,l.jsx)(D.Z,{className:"w-4 h-4 mr-2"}),"Gerar ",r," Valores"]})]})}let B={insert:{title:"RB-INSERT(T, z)",lines:[{number:1,code:"y = T.nil"},{number:2,code:"x = T.root"},{number:3,code:"while x != T.nil"},{number:4,code:"  y = x"},{number:5,code:"  if z.key < x.key"},{number:6,code:"    x = x.left"},{number:7,code:"  else"},{number:8,code:"    x = x.right"},{number:9,code:"z.p = y"},{number:10,code:"if y == T.nil"},{number:11,code:"  T.root = z"},{number:12,code:"elseif z.key < y.key"},{number:13,code:"  y.left = z"},{number:14,code:"else"},{number:15,code:"  y.right = z"},{number:16,code:"z.left = T.nil"},{number:17,code:"z.right = T.nil"},{number:18,code:"z.color = RED"},{number:19,code:"RB-INSERT-FIXUP(T, z)"}]},"insert-fixup":{title:"RB-INSERT-FIXUP(T, z)",lines:[{number:1,code:"while z.p.color == RED"},{number:2,code:"  if z.p == z.p.p.left"},{number:3,code:"    y = z.p.p.right"},{number:4,code:"    if y.color == RED"},{number:5,code:"      z.p.color = BLACK"},{number:6,code:"      y.color = BLACK"},{number:7,code:"      z.p.p.color = RED"},{number:8,code:"      z = z.p.p"},{number:9,code:"    else"},{number:10,code:"      if z == z.p.right"},{number:11,code:"        z = z.p"},{number:12,code:"        LEFT-ROTATE(T, z)"},{number:13,code:"      z.p.color = BLACK"},{number:14,code:"      z.p.p.color = RED"},{number:15,code:"      RIGHT-ROTATE(T, z.p.p)"},{number:16,code:"  else"},{number:17,code:"    y = z.p.p.left"},{number:18,code:"    if y.color == RED"},{number:19,code:"      z.p.color = BLACK"},{number:20,code:"      y.color = BLACK"},{number:21,code:"      z.p.p.color = RED"},{number:22,code:"      z = z.p.p"},{number:23,code:"    else"},{number:24,code:"      if z == z.p.left"},{number:25,code:"        z = z.p"},{number:26,code:"        RIGHT-ROTATE(T, z)"},{number:27,code:"      z.p.color = BLACK"},{number:28,code:"      z.p.p.color = RED"},{number:29,code:"      LEFT-ROTATE(T, z.p.p)"},{number:30,code:"T.root.color = BLACK"}]},"left-rotate":{title:"LEFT-ROTATE(T, x)",lines:[{number:1,code:"y = x.right"},{number:2,code:"x.right = y.left"},{number:3,code:"if y.left != T.nil"},{number:4,code:"  y.left.p = x"},{number:5,code:"y.p = x.p"},{number:6,code:"if x.p == T.nil"},{number:7,code:"  T.root = y"},{number:8,code:"elseif x == x.p.left"},{number:9,code:"  x.p.left = y"},{number:10,code:"else"},{number:11,code:"  x.p.right = y"},{number:12,code:"y.left = x"},{number:13,code:"x.p = y"}]},"right-rotate":{title:"RIGHT-ROTATE(T, y)",lines:[{number:1,code:"x = y.left"},{number:2,code:"y.left = x.right"},{number:3,code:"if x.right != T.nil"},{number:4,code:"  x.right.p = y"},{number:5,code:"x.p = y.p"},{number:6,code:"if y.p == T.nil"},{number:7,code:"  T.root = x"},{number:8,code:"elseif y == y.p.right"},{number:9,code:"  y.p.right = x"},{number:10,code:"else"},{number:11,code:"  y.p.left = x"},{number:12,code:"x.right = y"},{number:13,code:"y.p = x"}]},delete:{title:"RB-DELETE(T, z)",lines:[{number:1,code:"y = z"},{number:2,code:"y-original-color = y.color"},{number:3,code:"if z.left == T.nil"},{number:4,code:"  x = z.right"},{number:5,code:"  RB-Transplant(T, z, z.right)"},{number:6,code:"elseif z.right == T.nil"},{number:7,code:"  x = z.left"},{number:8,code:"  RB-Transplant(T, z, z.left)"},{number:9,code:"else y = Tree-Minimum(z.right)"},{number:10,code:"  y-original-color = y.color"},{number:11,code:"  x = y.right"},{number:12,code:"  if y != z.right"},{number:13,code:"    RB-Transplant(T, y, y.right)"},{number:14,code:"    y.right = z.right"},{number:15,code:"    y.right.p = y"},{number:16,code:"else x.p = y"},{number:17,code:"  RB-Transplant(T, z, y)"},{number:18,code:"  y.left = z.left"},{number:19,code:"  y.left.p = y"},{number:20,code:"  y.color = z.color"},{number:21,code:"if y-original-color == BLACK"},{number:22,code:"  RB-Delete-Fixup(T, x)"}]},"delete-fixup":{title:"RB-DELETE-FIXUP(T, x)",lines:[{number:1,code:"while x != T.root and x.color == BLACK"},{number:2,code:"  if x == x.p.left"},{number:3,code:"    w = x.p.right"},{number:4,code:"    if w.color == RED"},{number:5,code:"      w.color = BLACK"},{number:6,code:"      x.p.color = RED"},{number:7,code:"      LEFT-ROTATE(T, x.p)"},{number:8,code:"      w = x.p.right"},{number:9,code:"    if w.left.color == BLACK and w.right.color == BLACK"},{number:10,code:"      w.color = RED"},{number:11,code:"      x = x.p"},{number:12,code:"    else"},{number:13,code:"      if w.right.color == BLACK"},{number:14,code:"        w.left.color = BLACK"},{number:15,code:"        w.color = RED"},{number:16,code:"        RIGHT-ROTATE(T, w)"},{number:17,code:"        w = x.p.right"},{number:18,code:"      w.color = x.p.color"},{number:19,code:"      x.p.color = BLACK"},{number:20,code:"      w.right.color = BLACK"},{number:21,code:"      LEFT-ROTATE(T, x.p)"},{number:22,code:"      x = T.root"},{number:23,code:"  else"},{number:24,code:"    w = x.p.left"},{number:25,code:"    if w.color == RED"},{number:26,code:"      w.color = BLACK"},{number:27,code:"      x.p.color = RED"},{number:28,code:"      RIGHT-ROTATE(T, x.p)"},{number:29,code:"      w = x.p.left"},{number:30,code:"    if w.right.color == BLACK and w.left.color == BLACK"},{number:31,code:"      w.color = RED"},{number:32,code:"      x = x.p"},{number:33,code:"    else"},{number:34,code:"      if w.left.color == BLACK"},{number:35,code:"        w.right.color = BLACK"},{number:36,code:"        w.color = RED"},{number:37,code:"        LEFT-ROTATE(T, w)"},{number:38,code:"        w = x.p.left"},{number:39,code:"      w.color = x.p.color"},{number:40,code:"      x.p.color = BLACK"},{number:41,code:"      w.left.color = BLACK"},{number:42,code:"      RIGHT-ROTATE(T, x.p)"},{number:43,code:"      x = T.root"},{number:44,code:"x.color = BLACK"}]}};function q(e){let{algorithm:t,activeLines:r=[],executedLines:a=[],conditions:s={},comments:o={},showRotationAlgorithms:n=!1}=e,c=B[t],d=e=>r.includes(e)?"bg-green-100 border-green-500 text-green-900":a.includes(e)?"bg-blue-50 text-blue-800":"text-gray-700",u=e=>{if(void 0!==s[e]){let t=!!s[e];return(0,l.jsx)("span",{className:"".concat("ml-auto text-[10px] leading-none font-medium px-1.5 py-0.5 rounded border"," ").concat(t?"bg-green-500/15 text-green-700 border-green-600/30":"bg-red-500/15 text-red-700 border-red-600/30"),children:t?"True":"False"})}return null},m=(e,t,r)=>{let a=e=>{let t=e.match(/^(\s*)/);return t?Math.floor(t[1].length/2):0},s=e=>{let t=e.trim();return t.startsWith("if ")?"if":t.startsWith("else")?"else":t.startsWith("while ")?"while":t.startsWith("for ")?"for":"normal"},o=e=>{switch(e){case"if":return"bg-blue-400";case"else":return"bg-green-400";case"while":return"bg-purple-400";case"for":return"bg-orange-400";default:return"bg-gray-300"}},n=r.map(e=>a(e.code)),i=[];for(let e=0;e<r.length;e++){let t=s(r[e].code);if("normal"===t)continue;let a=n[e]+1,l=e;for(let t=e+1;t<r.length;t++){if(n[t]<=n[e]){l=t-1;break}l=t}l>=e+1&&i.push({level:a,start:e+1,end:l,colorClass:o(t)})}return(0,l.jsxs)("div",{className:"space-y-0.5 font-mono text-xs",children:[(0,l.jsx)("h4",{className:"font-semibold text-sm mb-1",children:t}),(0,l.jsxs)("div",{className:"grid grid-cols-[2rem_1fr] gap-2",children:[(0,l.jsx)("div",{children:r.map(e=>(0,l.jsx)("div",{style:{height:22},className:"flex items-center justify-end text-gray-500 text-xs",children:e.number},"n-".concat(e.number)))}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:i.map((e,t)=>(0,l.jsxs)("div",{className:"absolute",style:{left:16*e.level,top:22*e.start,height:(e.end-e.start+1)*22},children:[(0,l.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-px ".concat(e.colorClass)}),(0,l.jsx)("div",{className:"absolute left-0 top-0 w-2 h-px ".concat(e.colorClass)}),(0,l.jsx)("div",{className:"absolute left-0 bottom-0 w-2 h-px ".concat(e.colorClass)})]},"b-".concat(t)))}),(0,l.jsx)("div",{children:r.map((e,t)=>(0,l.jsxs)("div",{style:{height:22},className:"px-2 rounded flex items-center ".concat(d(e.number)),children:[(0,l.jsx)("pre",{className:"text-xs whitespace-pre-wrap font-mono",style:{paddingLeft:16*n[t]+4},children:e.code.trimStart()}),u(e.number)]},e.number))})]})]})]})};return(0,l.jsxs)(i,{className:"p-3 h-full flex flex-col",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("h3",{className:"font-semibold text-base mb-2",children:c.title})}),(0,l.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,l.jsxs)("div",{className:"space-y-1",children:[m(t,c.title,c.lines),n&&"insert-fixup"===t&&(0,l.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,l.jsx)("div",{className:"border-t pt-2",children:m("left-rotate","LEFT-ROTATE(T, x)",B["left-rotate"].lines)}),(0,l.jsx)("div",{className:"border-t pt-2",children:m("right-rotate","RIGHT-ROTATE(T, y)",B["right-rotate"].lines)})]})]})}),(0,l.jsx)("div",{className:"flex-shrink-0 mt-2 text-xs text-gray-500",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-green-100 border border-green-500 rounded"}),(0,l.jsx)("span",{className:"text-xs",children:"Ativa"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-blue-50 border border-blue-300 rounded"}),(0,l.jsx)("span",{className:"text-xs",children:"Executada"})]})]})})]})}var Z=r(9397),M=r(1047),V=r(4440),G=r(7416),P=r(2489);let K=(0,d.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function _(e){let{className:t,variant:r,asChild:a=!1,...s}=e,o=a?c.g7:"span";return(0,l.jsx)(o,{"data-slot":"badge",className:(0,n.cn)(K({variant:r}),t),...s})}var F=r(8645);function Y(e){let{steps:t,currentStep:r,className:a,onGoToStep:s}=e,n=(()=>{let e=new Map;t.forEach((t,r)=>{if("insert"===t.type){let a=t.description.match(/Inserido nó (\d+)/);if(a){let t=parseInt(a[1],10);isNaN(t)||e.has(t)||e.set(t,r)}}});let a=Array.from(e.entries()).sort((e,t)=>e[1]-t[1]).map(e=>{let[t]=e;return t}),s=[];return a.forEach(a=>{let l=e.get(a),o="pending",n=t.slice(0,r+1),i=!1,c=!1;n.forEach(e=>{if("insert"===e.type){let t=e.description.match(/Inserido nó (\d+)/);t&&parseInt(t[1],10)===a&&(i=!0)}else if("delete"===e.type){let t=e.description.match(/Removido nó (\d+)/);t&&parseInt(t[1],10)===a&&(c=!0)}}),o=c?"deleted":i?"inserted":"pending",s.push({value:a,status:o,insertStepIndex:l})}),s})();return(0,l.jsx)(i,{className:"p-4 ".concat(a||""),children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(F.Z,{className:"w-4 h-4 text-muted-foreground shrink-0"}),(0,l.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0 flex-wrap",children:[(0,l.jsx)("span",{className:"text-sm font-semibold text-muted-foreground shrink-0",children:"Sequ\xeancia:"}),n.length>0?(0,l.jsx)(l.Fragment,{children:n.map((e,t)=>{let a="font-mono";return"pending"===e.status?a+=" bg-gray-500/15 text-gray-700 border-gray-600/30":"deleted"===e.status?a+=" bg-red-500/15 text-red-700 border-red-600/30":a+=" bg-green-500/15 text-green-700 border-green-600/30",s&&(a+=" cursor-pointer hover:opacity-80 transition-opacity",e.insertStepIndex===r&&(a+=" ring-2 ring-blue-500 ring-offset-1")),(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)(_,{variant:"outline",className:a,onClick:()=>null==s?void 0:s(e.insertStepIndex),title:s?"Ir para inser\xe7\xe3o do valor ".concat(e.value):void 0,children:e.value}),t<n.length-1&&(0,l.jsx)("span",{className:"text-muted-foreground/50",children:"→"})]},"".concat(e.value,"-").concat(t))})}):(0,l.jsx)("span",{className:"text-sm text-muted-foreground italic",children:"Nenhum valor inserido"})]})]})})}function U(e){let{onExit:t,tree:r,nodePositions:a,currentStep:s,totalSteps:n,steps:c,canGoNext:d,canGoPrevious:u,nextStep:p,previousStep:x,goToStep:f,reset:g,onInsert:N,onRemove:S}=e,[C,T]=(0,o.useState)(!1),[R,z]=(0,o.useState)(!1),[A,O]=(0,o.useState)(1e3),[I,D]=(0,o.useState)(!0),[L,B]=(0,o.useState)(!1),[K,_]=(0,o.useState)(""),F=(0,o.useRef)(n),U=(0,o.useRef)(!1);(0,o.useEffect)(()=>{if(!R)return;let e=setInterval(()=>{d?p():z(!1)},A);return()=>clearInterval(e)},[R,d,p,A]),(0,o.useEffect)(()=>{if(U.current&&n>F.current){let e=F.current;f(e),U.current=!1,F.current=n,setTimeout(()=>{e<n-1&&z(!0)},50)}else n===F.current||U.current||(F.current=n)},[n,f]),(0,o.useEffect)(()=>{if(U.current&&c.length>F.current){let e=F.current;f(e),U.current=!1,F.current=c.length,setTimeout(()=>{e<c.length-1&&z(!0)},50)}},[c.length,f]),(0,o.useEffect)(()=>{let e=()=>{T(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)},[]);let X=async()=>{document.fullscreenElement?await document.exitFullscreen():await document.documentElement.requestFullscreen()},W=()=>{if(!K.trim())return;let e=K.split(/[,\s]+/).map(e=>parseInt(e.trim(),10)).filter(e=>!isNaN(e));e.length>0&&(F.current=n,U.current=!0,N(e),_(""))},H=c[s]||null;return(0,l.jsxs)("div",{className:"fixed inset-0 z-50 bg-background ".concat("p-4"),children:[(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)(Y,{steps:c,currentStep:s,onGoToStep:f})}),(0,l.jsxs)("div",{className:"flex h-[calc(100vh-160px)] gap-4",children:[(0,l.jsx)("div",{className:"flex-1",children:(0,l.jsx)(i,{className:"h-full p-6",children:(0,l.jsx)(E,{tree:r,nodePositions:a,affectedNodes:(null==H?void 0:H.affectedNodes)||[],currentStepType:null==H?void 0:H.type})})}),I&&(0,l.jsx)("div",{className:"w-96 space-y-4",children:H?(0,l.jsx)(q,{algorithm:((e,t)=>{var r;let a=null==t?void 0:null===(r=t.meta)||void 0===r?void 0:r.rootOp;switch(e){case"insert":default:return"insert";case"recolor":case"rotate-left":case"rotate-right":return"delete"===a?"delete-fixup":"insert-fixup";case"delete":return"delete"}})(H.type,H),activeLines:((e,t)=>{var r,a,s,l,o,n,i,c,d,u,m,h,p,x,f,g,v;switch(e){case"insert":return[16,17,18,19];case"recolor":if((null==t?void 0:null===(r=t.meta)||void 0===r?void 0:r.rootOp)==="delete"){if((null==t?void 0:null===(o=t.meta)||void 0===o?void 0:o.isLeftChild)===!0){if((null==t?void 0:null===(n=t.meta)||void 0===n?void 0:n.siblingColor)==="RED")return[4,5,6,7,8];if(null==t?void 0:null===(i=t.meta)||void 0===i?void 0:i.bothChildrenBlack)return[9,10,11];if(null==t?void 0:null===(c=t.meta)||void 0===c?void 0:c.rightChildBlack)return[13,14,15,16,17];return[18,19,20,21,22]}if((null==t?void 0:null===(d=t.meta)||void 0===d?void 0:d.siblingColor)==="RED")return[25,26,27,28,29];if(null==t?void 0:null===(u=t.meta)||void 0===u?void 0:u.bothChildrenBlack)return[30,31,32];if(null==t?void 0:null===(m=t.meta)||void 0===m?void 0:m.leftChildBlack)return[34,35,36,37,38];return[39,40,41,42,43]}if((null==t?void 0:null===(a=t.meta)||void 0===a?void 0:a.case)==="uncle-red")return[4,5,6,7,8];if((null==t?void 0:null===(s=t.meta)||void 0===s?void 0:s.case)==="triangle")return(null==t?void 0:null===(h=t.meta)||void 0===h?void 0:h.parentSide)==="left"?[10,11]:[24,25];if((null==t?void 0:null===(l=t.meta)||void 0===l?void 0:l.case)==="line")return(null==t?void 0:null===(p=t.meta)||void 0===p?void 0:p.parentSide)==="left"?[13,14,15]:[27,28,29];return[4,5,6,7,8];case"rotate-left":if((null==t?void 0:null===(x=t.meta)||void 0===x?void 0:x.rootOp)==="delete")return(null==t?void 0:null===(f=t.meta)||void 0===f?void 0:f.isLeftChild)===!0?[21]:[42];return[10,11,12];case"rotate-right":if((null==t?void 0:null===(g=t.meta)||void 0===g?void 0:g.rootOp)==="delete")return(null==t?void 0:null===(v=t.meta)||void 0===v?void 0:v.isLeftChild)===!0?[16]:[28];return[13,14,15];case"delete":if((null==t?void 0:t.hasLeftChild)===!1&&(null==t?void 0:t.hasRightChild)===!1)return[3,4,5];if((null==t?void 0:t.hasLeftChild)===!1||(null==t?void 0:t.hasRightChild)===!1)return[6,7,8];return[9,10,11,12,13,14,15,16,17,18,19,20,21,22];default:return[]}})(H.type,H),executedLines:((e,t)=>{switch(e){case"insert":return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];case"recolor":return[1,2,3];case"rotate-left":return[1,2,3,9];case"rotate-right":return[1,2,3,9,10,11,12];case"delete":return[1,2];default:return[]}})(H.type,0),conditions:((e,t)=>{let r={};switch(e){case"insert":r[3]=!0,r[5]=(null==t?void 0:t.direction)==="left",r[9]=(null==t?void 0:t.isRoot)||!1,r[11]=(null==t?void 0:t.direction)==="left";break;case"recolor":r[1]=!0,r[2]=(null==t?void 0:t.parentSide)==="left",r[4]=!0;break;case"rotate-left":r[1]=!0,r[2]=(null==t?void 0:t.parentSide)==="left",r[4]=!1,r[10]=!0;break;case"rotate-right":r[1]=!0,r[2]=(null==t?void 0:t.parentSide)==="left",r[4]=!1,r[10]=!1;break;case"delete":r[3]=(null==t?void 0:t.hasLeftChild)===!1,r[6]=(null==t?void 0:t.hasRightChild)===!1,r[12]=!(null==t?void 0:t.isSuccessorChild),r[21]=(null==t?void 0:t.originalColor)==="BLACK"}return r})(H.type,H),comments:(H.type,{}),showRotationAlgorithms:"rotate-left"===H.type||"rotate-right"===H.type}):(0,l.jsx)(q,{algorithm:"insert",activeLines:[],executedLines:[],conditions:{},comments:{},showRotationAlgorithms:!1})})]}),(0,l.jsx)("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 w-[90%] max-w-4xl",children:(0,l.jsxs)(i,{className:"p-4 shadow-lg space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(h,{placeholder:"10, 20, 30...",value:K,onChange:e=>_(e.target.value.replace(/[^0-9,\s-]/g,"")),onKeyDown:e=>{"Enter"===e.key&&W()},className:"flex-1"}),(0,l.jsxs)(m,{onClick:W,size:"sm",className:"cursor-pointer",children:[(0,l.jsx)(Z.Z,{className:"w-4 h-4 mr-2"})," Inserir"]}),(0,l.jsxs)(m,{variant:"destructive",onClick:()=>{let e=parseInt(K,10);isNaN(e)||(F.current=n,U.current=!0,S(e)?_(""):U.current=!1)},size:"sm",className:"cursor-pointer",children:[(0,l.jsx)(M.Z,{className:"w-4 h-4 mr-2"})," Remover"]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between gap-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(m,{variant:"outline",size:"sm",onClick:()=>{f(0),z(!1)},disabled:0===s,className:"cursor-pointer",children:(0,l.jsx)(j.Z,{className:"w-4 h-4"})}),(0,l.jsx)(m,{variant:"outline",size:"sm",onClick:x,disabled:!u,className:"cursor-pointer",children:(0,l.jsx)(j.Z,{className:"w-4 h-4"})}),(0,l.jsx)(m,{variant:R?"default":"outline",size:"sm",onClick:()=>{R?z(!1):d&&z(!0)},disabled:!d&&!R,className:"cursor-pointer",children:R?(0,l.jsx)(y.Z,{className:"w-4 h-4"}):(0,l.jsx)(w.Z,{className:"w-4 h-4"})}),(0,l.jsx)(m,{variant:"outline",size:"sm",onClick:p,disabled:!d,className:"cursor-pointer",children:(0,l.jsx)(k.Z,{className:"w-4 h-4"})}),(0,l.jsx)(m,{variant:"outline",size:"sm",onClick:()=>{f(n-1),z(!1)},disabled:s===n-1,className:"cursor-pointer",children:(0,l.jsx)(k.Z,{className:"w-4 h-4"})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 min-w-[300px]",children:[(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:"Velocidade:"}),(0,l.jsx)(v,{value:[A],onValueChange:e=>{O(e[0])},max:3e3,min:200,step:200,className:"flex-1 cursor-pointer"}),(0,l.jsxs)("span",{className:"text-sm text-muted-foreground w-12",children:[A,"ms"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(m,{variant:"outline",size:"sm",onClick:()=>{g(),z(!1)},className:"cursor-pointer",children:(0,l.jsx)(b.Z,{className:"w-4 h-4"})}),(0,l.jsx)(m,{variant:"outline",size:"sm",onClick:()=>D(!I),className:"cursor-pointer",children:I?"Ocultar Stats":"Mostrar Stats"}),(0,l.jsx)(m,{variant:"outline",size:"sm",onClick:X,className:"cursor-pointer",children:C?(0,l.jsx)(V.Z,{className:"w-4 h-4"}):(0,l.jsx)(G.Z,{className:"w-4 h-4"})}),(0,l.jsx)(m,{variant:"outline",size:"sm",onClick:t,className:"cursor-pointer",children:(0,l.jsx)(P.Z,{className:"w-4 h-4"})})]})]})]})})]})}var X=r(3643);function W(e){let{className:t,children:r,...a}=e;return(0,l.jsxs)(X.fC,{"data-slot":"scroll-area",className:(0,n.cn)("relative",t),...a,children:[(0,l.jsx)(X.l_,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:r}),(0,l.jsx)(H,{}),(0,l.jsx)(X.Ns,{})]})}function H(e){let{className:t,orientation:r="vertical",...a}=e;return(0,l.jsx)(X.gb,{"data-slot":"scroll-area-scrollbar",orientation:r,className:(0,n.cn)("flex touch-none p-px transition-colors select-none","vertical"===r&&"h-full w-2.5 border-l border-l-transparent","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent",t),...a,children:(0,l.jsx)(X.q4,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var J=r(962);function Q(e){let{...t}=e;return(0,l.jsx)(J.fC,{"data-slot":"collapsible",...t})}function $(e){let{...t}=e;return(0,l.jsx)(J.wy,{"data-slot":"collapsible-trigger",...t})}function ee(e){let{...t}=e;return(0,l.jsx)(J.Fw,{"data-slot":"collapsible-content",...t})}var et=r(5621);function er(e){let{steps:t,currentStep:r,onGoToStep:a}=e,[s,n]=(0,o.useState)(!1),c=e=>{switch(e){case"insert":return"bg-green-100 text-green-800 border-green-200 text-xs";case"delete":return"bg-red-100 text-red-800 border-red-200 text-xs";case"recolor":return"bg-blue-100 text-blue-800 border-blue-200 text-xs";case"rotate-left":case"rotate-right":return"bg-purple-100 text-purple-800 border-purple-200 text-xs";default:return"bg-gray-100 text-gray-800 border-gray-200 text-xs"}},d=e=>{switch(e){case"insert":return"Inser\xe7\xe3o";case"delete":return"Remo\xe7\xe3o";case"recolor":return"Recolora\xe7\xe3o";case"rotate-left":return"Rota\xe7\xe3o ←";case"rotate-right":return"Rota\xe7\xe3o →";case"initial":return"Inicial";default:return e}};return(0,l.jsx)(i,{className:"p-4",children:(0,l.jsxs)(Q,{open:s,onOpenChange:n,children:[(0,l.jsxs)($,{className:"flex items-center justify-between w-full text-left cursor-pointer",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(et.Z,{className:"w-4 h-4 text-primary"}),(0,l.jsx)("span",{className:"font-semibold",children:"Hist\xf3rico"}),(0,l.jsx)(_,{variant:"outline",children:t.length})]}),(0,l.jsx)(I.Z,{className:"w-4 h-4 transition-transform ".concat(s?"rotate-180":"")})]}),(0,l.jsx)(ee,{className:"mt-3",children:(0,l.jsx)("div",{className:"space-y-4",children:(0,l.jsx)(W,{className:"h-64 [&>[data-radix-scroll-area-scrollbar]]:hidden",children:(0,l.jsx)("div",{className:"space-y-2 pb-2 grid grid-cols-1",children:t.map((e,t)=>(0,l.jsxs)("div",{className:"w-full p-2 rounded-md cursor-pointer transition-colors border ".concat(t===r?"bg-blue-50 border-blue-300 text-blue-900":"hover:bg-muted border-border"),onClick:()=>a(t),children:[(0,l.jsxs)("div",{className:"flex items-center gap-1 mb-1 flex-wrap",children:[(0,l.jsx)(_,{variant:"outline",className:"w-5 h-5 flex items-center justify-center p-0 text-xs shrink-0",children:t+1}),(0,l.jsx)(_,{className:"".concat(c(e.type)," shrink-0"),children:d(e.type)}),t===r&&(0,l.jsx)(_,{variant:"secondary",className:"text-xs shrink-0",children:"Atual"})]}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground leading-tight",children:e.description})]},e.id))})})})})]})})}function ea(e){let{className:t,...r}=e;return(0,l.jsx)("textarea",{"data-slot":"textarea",className:(0,n.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...r})}var es=r(2650);function el(e){let{...t}=e;return(0,l.jsx)(es.fC,{"data-slot":"dialog",...t})}function eo(e){let{...t}=e;return(0,l.jsx)(es.h_,{"data-slot":"dialog-portal",...t})}function en(e){let{className:t,...r}=e;return(0,l.jsx)(es.aV,{"data-slot":"dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function ei(e){let{className:t,children:r,showCloseButton:a=!0,...s}=e;return(0,l.jsxs)(eo,{"data-slot":"dialog-portal",children:[(0,l.jsx)(en,{}),(0,l.jsxs)(es.VY,{"data-slot":"dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...s,children:[r,a&&(0,l.jsxs)(es.x8,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,l.jsx)(P.Z,{}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function ec(e){let{className:t,...r}=e;return(0,l.jsx)("div",{"data-slot":"dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",t),...r})}function ed(e){let{className:t,...r}=e;return(0,l.jsx)(es.Dx,{"data-slot":"dialog-title",className:(0,n.cn)("text-lg leading-none font-semibold",t),...r})}var eu=r(277);function em(e){let{...t}=e;return(0,l.jsx)(eu.fC,{"data-slot":"alert-dialog",...t})}function eh(e){let{...t}=e;return(0,l.jsx)(eu.xz,{"data-slot":"alert-dialog-trigger",...t})}function ep(e){let{...t}=e;return(0,l.jsx)(eu.h_,{"data-slot":"alert-dialog-portal",...t})}function ex(e){let{className:t,...r}=e;return(0,l.jsx)(eu.aV,{"data-slot":"alert-dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function ef(e){let{className:t,...r}=e;return(0,l.jsxs)(ep,{children:[(0,l.jsx)(ex,{}),(0,l.jsx)(eu.VY,{"data-slot":"alert-dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r})]})}function eg(e){let{className:t,...r}=e;return(0,l.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",t),...r})}function ev(e){let{className:t,...r}=e;return(0,l.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...r})}function eb(e){let{className:t,...r}=e;return(0,l.jsx)(eu.Dx,{"data-slot":"alert-dialog-title",className:(0,n.cn)("text-lg font-semibold",t),...r})}function ej(e){let{className:t,...r}=e;return(0,l.jsx)(eu.dk,{"data-slot":"alert-dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",t),...r})}function eN(e){let{className:t,...r}=e;return(0,l.jsx)(eu.aU,{className:(0,n.cn)(u(),t),...r})}function ey(e){let{className:t,...r}=e;return(0,l.jsx)(eu.$j,{className:(0,n.cn)(u({variant:"outline"}),t),...r})}var ew=r(3229),eS=r(2735),ek=r(7689),eC=r(505),eT=r(5868),eR=r(8867),eE=r(6475),ez=r(8930),eA=r(8736);let eO="red-black-tree-sequences";function eI(){let[e,t]=(0,o.useState)([]),[r,a]=(0,o.useState)(!0),s=(0,o.useCallback)(()=>{try{let e=localStorage.getItem(eO);if(e){let r=JSON.parse(e).map(e=>({...e,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}));t(r)}}catch(e){console.error("Erro ao carregar sequ\xeancias:",e)}finally{a(!1)}},[]),l=(0,o.useCallback)(e=>{try{localStorage.setItem(eO,JSON.stringify(e)),t(e)}catch(e){console.error("Erro ao salvar sequ\xeancias:",e)}},[]),n=(0,o.useCallback)(t=>{let r=t.filter(e=>"insert"===e.type||"delete"===e.type).map(e=>{let t=e.description.match(/(?:Inserido|Removido) nó (\d+)/),r=t?parseInt(t[1]):0;return{type:e.type,value:r,description:e.description}}),a=e.map(e=>{let t=e.name.match(/Sequência (\d+)/);return t?parseInt(t[1]):0}).filter(e=>e>0),s=a.length>0?Math.max(...a)+1:1,o={id:"seq-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),name:"Sequ\xeancia ".concat(s),description:"",operations:r,createdAt:new Date,updatedAt:new Date};return l([...e,o]),o.id},[e,l]),i=(0,o.useCallback)((t,r)=>{let a=e.findIndex(e=>e.id===t);if(-1===a)return!1;let s=[...e];return s[a]={...s[a],...r,updatedAt:new Date},l(s),!0},[e,l]),c=(0,o.useCallback)(t=>{let r=e.filter(e=>e.id!==t);return r.length!==e.length&&(l(r),!0)},[e,l]),d=(0,o.useCallback)(t=>e.find(e=>e.id===t)||null,[e]),u=(0,o.useCallback)((t,r)=>{let a=d(t);if(!a)return null;let s={...a,id:"seq-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),name:r||"".concat(a.name," (C\xf3pia)"),createdAt:new Date,updatedAt:new Date};return l([...e,s]),s.id},[e,d,l]),m=(0,o.useCallback)(()=>{let t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),r=URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download="red-black-tree-sequences-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)},[e]),h=(0,o.useCallback)(t=>new Promise(r=>{let a=new FileReader;a.onload=t=>{try{var a;let s=JSON.parse(null===(a=t.target)||void 0===a?void 0:a.result);if(Array.isArray(s)){let t=s.filter(e=>e.id&&e.name&&Array.isArray(e.operations));if(t.length>0){let a=[...e,...t];l(a),r(!0)}else r(!1)}else r(!1)}catch(e){console.error("Erro ao importar sequ\xeancias:",e),r(!1)}},a.readAsText(t)}),[e,l]),p=(0,o.useCallback)(()=>{l([])},[l]);return(0,o.useEffect)(()=>{s()},[s]),{savedSequences:e,isLoading:r,saveSequence:n,updateSequence:i,deleteSequence:c,loadSequence:d,duplicateSequence:u,exportSequences:m,importSequences:h,clearAllSequences:p,refreshSequences:s}}var eD=r(5153);function eL(e){let{currentSteps:t,onLoadSequence:r}=e,{savedSequences:a,isLoading:s,saveSequence:n,updateSequence:c,deleteSequence:d,loadSequence:u,duplicateSequence:p,exportSequences:x,importSequences:f,refreshSequences:g}=eI(),{toast:v}=(0,eD.pm)(),[b,j]=(0,o.useState)(!1),[N,y]=(0,o.useState)(!1),[w,S]=(0,o.useState)(null),[k,C]=(0,o.useState)({name:"",description:"",numbers:""});(0,o.useState)(null)[0];let T=e=>{let t=u(e);if(t){let r=t.operations.map(e=>e.value).join(", ");S(e),C({name:t.name,description:t.description||"",numbers:r}),y(!0)}},R=e=>{let t=u(e);t&&(r(t.operations),v({title:"Sequ\xeancia carregada!",description:"".concat(t.name," foi carregada com sucesso.")}),j(!1))},E=e=>{let t=u(e);t&&p(e,"".concat(t.name," (C\xf3pia)"))},z=e=>{d(e)&&v({title:"Sequ\xeancia removida!",description:"A sequ\xeancia foi exclu\xedda com sucesso."})},A=e=>new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(e);return s?(0,l.jsx)(i,{className:"p-4",children:(0,l.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,l.jsx)("div",{className:"text-muted-foreground",children:"Carregando sequ\xeancias..."})})}):(0,l.jsxs)(i,{className:"p-4",children:[(0,l.jsxs)(Q,{open:b,onOpenChange:j,children:[(0,l.jsxs)($,{className:"flex items-center justify-between w-full text-left cursor-pointer",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(et.Z,{className:"w-4 h-4 text-primary"}),(0,l.jsx)("span",{className:"font-semibold",children:"Gerenciar Sequ\xeancias"}),(0,l.jsx)(_,{variant:"outline",children:a.length})]}),(0,l.jsx)(I.Z,{className:"w-4 h-4 transition-transform ".concat(b?"rotate-180":"")})]}),(0,l.jsx)(ee,{className:"mt-4",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[(0,l.jsxs)(m,{size:"sm",onClick:()=>{t.length>0&&(n(t),v({title:"Sequ\xeancia salva!",description:"A sequ\xeancia foi salva com sucesso."}))},disabled:0===t.length,className:"flex items-center justify-center gap-1 cursor-pointer",children:[(0,l.jsx)(ew.Z,{className:"w-3 h-3"}),"Salvar"]}),(0,l.jsxs)(m,{size:"sm",variant:"outline",onClick:()=>{x(),v({title:"Arquivo exportado!",description:"As sequ\xeancias foram exportadas com sucesso."})},disabled:0===a.length,className:"flex items-center justify-center gap-1 cursor-pointer",children:[(0,l.jsx)(eS.Z,{className:"w-3 h-3"}),"Exportar"]}),(0,l.jsxs)(m,{size:"sm",variant:"outline",onClick:()=>{let e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=async e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&(await f(r)?(g(),v({title:"Sequ\xeancias importadas!",description:"As sequ\xeancias foram importadas com sucesso."})):v({title:"Erro ao importar",description:"Verifique se o arquivo est\xe1 no formato correto.",variant:"destructive"}))},e.click()},className:"flex items-center justify-center gap-1 cursor-pointer",children:[(0,l.jsx)(ek.Z,{className:"w-3 h-3"}),"Importar"]})]}),a.length>0?(0,l.jsx)(W,{className:"h-64 [&>[data-radix-scroll-area-scrollbar]]:hidden",children:(0,l.jsx)("div",{className:"space-y-2",children:a.map(e=>(0,l.jsxs)("div",{className:"p-3 rounded-md border bg-card hover:bg-muted/50 transition-colors",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,l.jsx)("h4",{className:"font-medium text-sm truncate",children:e.name}),e.description&&(0,l.jsx)("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:e.description})]}),(0,l.jsx)("div",{className:"flex items-center gap-1 ml-2",children:(0,l.jsxs)(_,{variant:"outline",className:"text-xs",children:[e.operations.length," opera\xe7\xf5es"]})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mb-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(eC.Z,{className:"w-3 h-3"}),A(e.createdAt)]}),e.updatedAt.getTime()!==e.createdAt.getTime()&&(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[(0,l.jsx)(eT.Z,{className:"w-3 h-3"}),"Editado"]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(m,{size:"sm",variant:"outline",onClick:()=>T(e.id),className:"text-xs h-7 flex-1 flex items-center justify-center cursor-pointer",children:[(0,l.jsx)(eT.Z,{className:"w-3 h-3 mr-1"}),"Editar"]}),(0,l.jsxs)(m,{size:"sm",variant:"outline",onClick:()=>E(e.id),className:"text-xs h-7 flex-1 flex items-center justify-center cursor-pointer",children:[(0,l.jsx)(eR.Z,{className:"w-3 h-3 mr-1"}),"Duplicar"]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(m,{size:"sm",variant:"outline",onClick:()=>R(e.id),className:"text-xs h-7 flex-1 flex items-center justify-center cursor-pointer",children:[(0,l.jsx)(eE.Z,{className:"w-3 h-3 mr-1"}),"Importar"]}),(0,l.jsxs)(em,{children:[(0,l.jsx)(eh,{asChild:!0,children:(0,l.jsxs)(m,{size:"sm",variant:"destructive",className:"text-xs h-7 flex-1 flex items-center justify-center cursor-pointer",children:[(0,l.jsx)(ez.Z,{className:"w-3 h-3 mr-1"}),"Excluir"]})}),(0,l.jsxs)(ef,{children:[(0,l.jsxs)(eg,{children:[(0,l.jsx)(eb,{children:"Confirmar exclus\xe3o"}),(0,l.jsxs)(ej,{children:['Tem certeza que deseja excluir a sequ\xeancia "',e.name,'"? Esta a\xe7\xe3o n\xe3o pode ser desfeita.']})]}),(0,l.jsxs)(ev,{children:[(0,l.jsx)(ey,{className:"cursor-pointer",children:"Cancelar"}),(0,l.jsx)(eN,{onClick:()=>z(e.id),className:"cursor-pointer",children:"Excluir"})]})]})]})]})]})]},e.id))})}):(0,l.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,l.jsx)(eA.Z,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,l.jsx)("p",{children:"Nenhuma sequ\xeancia salva ainda"}),(0,l.jsx)("p",{className:"text-xs",children:"Salve sua primeira sequ\xeancia para come\xe7ar"})]})]})})]}),(0,l.jsx)(el,{open:N,onOpenChange:y,children:(0,l.jsxs)(ei,{children:[(0,l.jsxs)(ec,{children:[(0,l.jsx)(ed,{children:"Editar Sequ\xeancia"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"Edite o nome, sequ\xeancia de n\xfameros e descri\xe7\xe3o da sequ\xeancia selecionada."})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:"Nome da sequ\xeancia"}),(0,l.jsx)(h,{value:k.name,onChange:e=>C(t=>({...t,name:e.target.value})),placeholder:"Ex: Inser\xe7\xe3o de n\xfameros pares",className:"mt-1"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:"Sequ\xeancia de n\xfameros"}),(0,l.jsx)(h,{value:k.numbers,onChange:e=>C(t=>({...t,numbers:e.target.value})),placeholder:"Ex: 10, 20, 30, 40",className:"mt-1"}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Separe os n\xfameros por v\xedrgula ou espa\xe7o"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium",children:"Descri\xe7\xe3o (opcional)"}),(0,l.jsx)(ea,{value:k.description,onChange:e=>C(t=>({...t,description:e.target.value})),placeholder:"Descreva o que esta sequ\xeancia faz...",className:"mt-1",rows:3})]}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,l.jsx)(m,{variant:"outline",onClick:()=>y(!1),className:"cursor-pointer",children:"Cancelar"}),(0,l.jsx)(m,{onClick:()=>{if(w&&k.name.trim()){let e=k.numbers.split(/[,\s]+/).map(e=>e.trim()).filter(e=>""!==e).map(e=>Number.parseInt(e)).filter(e=>!isNaN(e)).map(e=>({type:"insert",value:e,description:"Inserido n\xf3 ".concat(e)}));c(w,{name:k.name.trim(),description:k.description.trim()||void 0,operations:e}),S(null),C({name:"",description:"",numbers:""}),y(!1)}},disabled:!k.name.trim(),className:"cursor-pointer",children:"Salvar Altera\xe7\xf5es"})]})]})]})})]})}function eB(e){let{tree:t}=e,r=(e=>{if(!e)return{totalNodes:0,redNodes:0,blackNodes:0,height:0,blackHeight:0,isValid:!0,violations:[]};let t=0,r=0,a=0,l=0,o=!0,n=-1,i=[],c=(e,d,u)=>{if(!e)return -1===n?n=u:n!==u&&(o=!1,i.push("Altura preta inconsistente: esperado ".concat(n,", encontrado ").concat(u))),u;t++,l=Math.max(l,d),e.color===s.RED?(r++,e.parent&&e.parent.color===s.RED&&(o=!1,i.push("N\xf3 vermelho ".concat(e.value," tem pai vermelho ").concat(e.parent.value)))):(a++,u++);let m=c(e.left,d+1,u),h=c(e.right,d+1,u);return m!==h&&(o=!1,i.push("Alturas pretas diferentes: esquerda ".concat(m,", direita ").concat(h))),m>h?m:h};return c(e,0,0),e.color!==s.BLACK&&(o=!1,i.push("Raiz deve ser preta, mas \xe9 ".concat(e.color))),{totalNodes:t,redNodes:r,blackNodes:a,height:l,blackHeight:n,isValid:o,violations:i}})(t);return(0,l.jsxs)(i,{className:"p-4",children:[(0,l.jsx)("h3",{className:"font-semibold mb-3",children:"Estat\xedsticas da \xc1rvore"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{className:"text-center p-2 bg-muted rounded-lg",children:[(0,l.jsx)("div",{className:"text-lg font-bold text-foreground",children:r.totalNodes}),(0,l.jsx)("div",{className:"text-xs text-muted-foreground",children:"Total de N\xf3s"})]}),(0,l.jsxs)("div",{className:"text-center p-2 bg-muted rounded-lg",children:[(0,l.jsx)("div",{className:"text-lg font-bold text-foreground",children:r.height}),(0,l.jsx)("div",{className:"text-xs text-muted-foreground",children:"Altura"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{className:"text-center p-2 bg-red-50 border border-red-200 rounded-lg",children:[(0,l.jsx)("div",{className:"text-lg font-bold text-red-700",children:r.redNodes}),(0,l.jsx)("div",{className:"text-xs text-red-600",children:"N\xf3s Vermelhos"})]}),(0,l.jsxs)("div",{className:"text-center p-2 bg-gray-50 border border-gray-200 rounded-lg",children:[(0,l.jsx)("div",{className:"text-lg font-bold text-gray-700",children:r.blackNodes}),(0,l.jsx)("div",{className:"text-xs text-gray-600",children:"N\xf3s Pretos"})]})]}),(0,l.jsxs)("div",{className:"text-center p-2 bg-muted rounded-lg",children:[(0,l.jsx)("div",{className:"text-lg font-bold text-foreground",children:r.blackHeight}),(0,l.jsx)("div",{className:"text-xs text-muted-foreground",children:"Altura Preta"})]}),(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)(_,{variant:r.isValid?"default":"destructive",children:r.isValid?"✓ \xc1rvore V\xe1lida":"✗ \xc1rvore Inv\xe1lida"})}),!r.isValid&&r.violations.length>0&&(0,l.jsxs)("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,l.jsx)("div",{className:"text-sm font-medium text-red-800 mb-2",children:"Viola\xe7\xf5es encontradas:"}),(0,l.jsx)("ul",{className:"text-xs text-red-700 space-y-1",children:r.violations.map((e,t)=>(0,l.jsxs)("li",{children:["• ",e]},t))})]})]})]})}var eq=r(8293),eZ=r(8919),eM=r(7410);let eV=(0,o.forwardRef)((e,t)=>{let{className:r}=e,[a,s]=(0,o.useState)(""),[n,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(!1),[x,f]=(0,o.useState)(!1),{toast:g}=(0,eD.pm)(),{insertMultipleValues:v,deleteValue:j,reset:y,nextStep:w,previousStep:k,goToStep:C,getCurrentTree:T,getCurrentStep:R,getNodePositions:z,loadSequence:A,currentStep:O,totalSteps:I,steps:D,canGoNext:B,canGoPrevious:q}=function(){let e=(0,o.useRef)(new p),[t,r]=(0,o.useState)(0),[a,s]=(0,o.useState)(()=>e.current.getSteps()),{saveSequence:l}=eI(),n=(0,o.useCallback)(t=>{e.current.insert(t);let a=e.current.getSteps();s([...a]),r(a.length-1)},[]),i=(0,o.useCallback)(t=>{let a=e.current.delete(t);if(a){let t=e.current.getSteps();s([...t]),r(t.length-1)}return a},[]),c=(0,o.useCallback)(t=>e.current.search(t),[]),d=(0,o.useCallback)(t=>{t.forEach(t=>e.current.insert(t));let a=e.current.getSteps();s([...a]),r(a.length-1)},[]),u=(0,o.useCallback)(()=>{e.current.reset(),s([...e.current.getSteps()]),r(0)},[]),m=(0,o.useCallback)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,a=e.current.generateRandomValues(t);a.forEach(t=>e.current.insert(t));let l=e.current.getSteps();return s([...l]),r(l.length-1),a},[]),h=(0,o.useCallback)(e=>{e>=0&&e<a.length&&r(e)},[a.length]),x=(0,o.useCallback)(()=>{t<a.length-1&&r(t+1)},[t,a.length]),f=(0,o.useCallback)(()=>{t>0&&r(t-1)},[t]),g=(0,o.useCallback)(()=>e.current.getTreeAtStep(t),[t]),v=(0,o.useCallback)(()=>a[t]||null,[a,t]),b=(0,o.useCallback)(()=>{let t=g();return e.current.calculateNodePositions(t)},[g]);return{insertValue:n,deleteValue:i,searchValue:c,insertMultipleValues:d,reset:u,generateRandomValues:m,goToStep:h,nextStep:x,previousStep:f,getCurrentTree:g,getCurrentStep:v,getNodePositions:b,loadSequence:(0,o.useCallback)(t=>{e.current.reset(),r(0),t.forEach(t=>{"insert"===t.type?e.current.insert(t.value):"delete"===t.type&&e.current.delete(t.value)});let a=e.current.getSteps();s([...a]),r(a.length-1)},[]),saveCurrentSequence:(0,o.useCallback)(()=>l(a),[l,a]),currentStep:t,totalSteps:a.length,steps:a,canGoNext:t<a.length-1,canGoPrevious:t>0}}(),V=(0,o.useCallback)(e=>{let t=(Array.isArray(e)?e:[e]).map(Number).filter(e=>!isNaN(e)&&null!=e);t.length>0&&v(t)},[v]),G=(0,o.useCallback)(e=>j(e),[j]),K=(0,o.useCallback)(()=>{let e=T();if(!e)return[];let t=[],r=e=>{e&&(r(e.left),t.push(e.value),r(e.right))};return r(e),t},[T]),_=(0,o.useCallback)(e=>{s(e.join(", "))},[]);(0,o.useImperativeHandle)(t,()=>({insert:V,remove:G,reset:y,goToStep:C,getCurrentValues:K,getCurrentTree:T,getHistory:()=>D,setInputValues:_}),[V,G,y,C,K,T,D,_]);let F=()=>{if(!a.trim())return;let e=a.split(/[,\s]+/).map(e=>parseInt(e.trim(),10)).filter(e=>!isNaN(e));e.length>0&&(V(e),s(""))},X=async()=>{let e=D.filter(e=>"insert"===e.type);if(0===e.length){g({title:"\xc1rvore vazia",description:"N\xe3o h\xe1 valores para compartilhar. Insira alguns valores primeiro.",variant:"destructive"});return}try{let t=e.map(e=>{let t=e.description.match(/Inserido nó (\d+)/);return t?parseInt(t[1],10):null}).filter(e=>null!==e),r=new URLSearchParams;r.set("v",t.join(","));let a="".concat(window.location.origin).concat(window.location.pathname,"?").concat(r.toString());await navigator.clipboard.writeText(a),g({title:"Link copiado!",description:"O link foi copiado para a \xe1rea de transfer\xeancia."})}catch(e){g({title:"Erro ao compartilhar",description:"N\xe3o foi poss\xedvel copiar o link. Tente novamente.",variant:"destructive"})}},W=(0,o.useCallback)(e=>{s(e.map(e=>e.value).join(", "))},[]),H=(0,o.useCallback)(e=>{s(e.join(", "))},[]),J=T(),Q=R(),$=z();return(0,l.jsxs)("div",{className:"min-h-screen bg-background ".concat(r||""),children:[(0,l.jsx)("header",{className:"border-b border-border bg-card",children:(0,l.jsx)("div",{className:"container mx-auto px-6 py-4 lg:px-8 xl:px-12",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h1",{className:"text-xl font-bold",children:"Simulador Rubro-Negra"}),(0,l.jsx)("button",{onClick:()=>f(e=>!e),className:"lg:hidden",children:x?(0,l.jsx)(P.Z,{className:"w-8 h-8"}):(0,l.jsx)(eq.Z,{className:"w-8 h-8"})})]})})}),(0,l.jsx)("div",{className:"container mx-auto px-4 py-6 lg:px-8 xl:px-12",children:n?(0,l.jsx)(U,{onExit:()=>c(!1),tree:J,nodePositions:$,currentStep:O,totalSteps:I,steps:D,canGoNext:B,canGoPrevious:q,nextStep:w,previousStep:k,goToStep:C,reset:y,onInsert:V,onRemove:G}):(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,l.jsxs)("div",{className:"flex-1 space-y-6 ".concat(d?"lg:w-full":"lg:flex-[3]"),children:[(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)(i,{className:"p-4 flex-1",children:(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,l.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,l.jsx)(h,{placeholder:"10, 20, 30...",value:a,onChange:e=>s(e.target.value.replace(/[^0-9,\s-]/g,"")),onKeyDown:e=>"Enter"===e.key&&F()}),(0,l.jsxs)(m,{onClick:F,className:"cursor-pointer",children:[(0,l.jsx)(Z.Z,{className:"w-4 h-4 mr-2"})," Inserir"]}),(0,l.jsxs)(m,{variant:"destructive",onClick:()=>{let e=parseInt(a,10);!isNaN(e)&&G(e)&&s("")},className:"cursor-pointer",children:[(0,l.jsx)(M.Z,{className:"w-4 h-4 mr-2"})," Remover"]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)(m,{variant:"outline",onClick:y,className:"cursor-pointer",children:[(0,l.jsx)(b.Z,{className:"w-4 h-4 mr-2"})," Resetar"]}),(0,l.jsxs)(m,{variant:"outline",onClick:X,className:"cursor-pointer",children:[(0,l.jsx)(eZ.Z,{className:"w-4 h-4 mr-2"})," Compartilhar"]}),(0,l.jsxs)(m,{variant:"outline",onClick:()=>c(!0),className:"cursor-pointer",children:[(0,l.jsx)(eM.Z,{className:"w-4 h-4 mr-2"})," Apresenta\xe7\xe3o"]})]})]})}),(0,l.jsx)(i,{className:"hidden lg:flex items-center justify-center w-12 cursor-pointer hover:bg-muted/50",onClick:()=>u(e=>!e),children:d?(0,l.jsx)(S.Z,{}):(0,l.jsx)(N.Z,{})})]}),(0,l.jsx)(Y,{steps:D,currentStep:O,onGoToStep:C}),(0,l.jsx)(i,{className:"p-6",children:(0,l.jsx)(E,{tree:J,nodePositions:$,affectedNodes:(null==Q?void 0:Q.affectedNodes)||[],currentStepType:null==Q?void 0:Q.type,currentStep:O,totalSteps:I,canGoNext:B,canGoPrevious:q,onNextStep:w,onPreviousStep:k,onGoToStep:C,onReset:y,currentStepData:Q})})]}),(!d||window.innerWidth<1024)&&(0,l.jsxs)("div",{className:"".concat(d?"hidden lg:block":"block"," lg:w-80 space-y-6"),children:[(0,l.jsx)(L,{onGenerate:H}),(0,l.jsx)(eL,{currentSteps:D,onLoadSequence:W}),(0,l.jsx)(er,{steps:D,currentStep:O,onGoToStep:C}),(0,l.jsx)(eB,{tree:J})]})]})})]})});var eG=r(9376);function eP(){let e=(0,o.useRef)(null),t=(0,eG.useSearchParams)();return(0,o.useEffect)(()=>{var r;if(!e.current)return;let a=null!==(r=t.get("v"))&&void 0!==r?r:t.get("values");if(!a)return;let s=function(e,t){let r=[];if(e.startsWith("[")&&e.endsWith("]"))try{let t=JSON.parse(e);Array.isArray(t)&&(r=t.filter(e=>"number"==typeof e&&!isNaN(e)))}catch(e){}return 0===r.length&&(r=e.split(/[,;\s]+/).map(e=>Number(e.trim())).filter(e=>!isNaN(e)&&null!=e)),0===r.length&&(r=Array.from(t.entries()).filter(e=>{let[t]=e;return!["v","values"].includes(t)}).map(e=>{let[,t]=e;return Number(t)}).filter(e=>!isNaN(e))),r}(a,t);s.length>0&&e.current.setInputValues(s)},[t]),(0,l.jsx)(eV,{ref:e})}},5153:function(e,t,r){"use strict";r.d(t,{pm:function(){return m}});var a=r(2265);let s=0,l=new Map,o=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?o(r):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],c={toasts:[]};function d(e){c=n(c,e),i.forEach(e=>{e(c)})}function u(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:r});return d({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=a.useState(c);return a.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},4508:function(e,t,r){"use strict";r.d(t,{cn:function(){return l}});var a=r(1994),s=r(3335);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}}},function(e){e.O(0,[82,311,971,117,744],function(){return e(e.s=7840)}),_N_E=e.O()}]);